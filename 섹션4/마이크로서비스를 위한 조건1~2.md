# 마이크로서비스를 성공적으로 하기 위한 조건
- 전통적인 개발방식은 개발팀이 개발하고 운영팀에 넘겼지만 개발팀이 개발하고 운영도 함께 해야함.
- 2 피자 팀(2 Pizza Team) : 보통 6~10명 사이의 소규모 팀(기획자, 디너이너, 설계자, 개발자, 테스터). 개발팀 + 운영팀
  - 신속한 의사결정: 팀 규모가 작을수록 의사결정이 빠르고 협업이 원활하게 이루어집니다.
  - 책임감 강화: 소규모 팀은 팀원 각각의 책임이 명확해지고, 목표 달성에 대한 동기부여가 높아집니다.
  - 기민한 변화 대응: 팀의 규모가 작기 때문에 변화를 빠르게 수용하고 대응할 수 있습니다.
  - 실제 적용: 아마존에서의 소규모 팀 구성으로 인해 각 팀이 독립적으로 프로젝트를 진행하고, 그 과정에서 빠르게 고객 피드백을 반영하거나 변화를 처리할 수 있게 되었습니다.
- 크로스 펑셔널 팀(Cross-functional Team) : 여러 부서나 기능을 담당하는 구성원들이 모인 팀으로, 한 프로젝트 또는 목표를 달성하기 위해 필요한 다양한 기능과 역량을 가진 사람들이 협력하는 팀
  - 개발자, 디자이너, 마케팅 전문가, QA, 운영자 등 서로 다른 역할과 전문성을 가진 팀원들이 함께 일하며, 프로젝트의 모든 단계를 팀 내에서 처리할 수 있습니다.
  - 종합적인 문제 해결: 팀 내에서 여러 기능을 수행할 수 있기 때문에 문제를 빠르게 해결할 수 있습니다.
  - 의사소통 효율성: 팀 내에서 개발, 마케팅, 디자인 등 모든 기능을 다루기 때문에, 외부 부서와의 의사소통 지연 없이 일관성 있게 프로젝트를 진행할 수 있습니다.
  - 책임의 집중: 팀이 목표를 가지고 자체적으로 모든 기능을 처리하기 때문에 책임이 명확해집니다.
- 애자일 팀: 보통 애자일 개발 방식에서 사용하는 팀 구성 형태로, 크로스 펑셔널 팀이 일반적입니다. 개발자, 디자이너, 제품 소유자, QA 등이 한 팀을 이루어 제품의 개발부터 출시까지 전 과정을 책임집니다.
- 스타트업 팀: 많은 스타트업에서는 소규모 크로스 펑셔널 팀으로 구성되어 빠르게 의사결정을 내리고 제품을 발전시킵니다.
- 다기능 팀 : 내부의 응집력이 높고 의존성은 낮음. output도 느슨할 것임.
- 콘웨이 법칙 : 시스템 구조는 설계하는 조직의 커뮤니케이션 구조와 닮는다. 조직의 구성과 시스템의 구조는 서로 밀접한 관련이 있다.
- 자동화 : 빠른 소프트웨어 개발을 위해 개발 지원용 자동화 도구 필요. 형상관리, 빌드/테스트/배포 자동화
- 인프라 : 유연하고 민첩하게 제공되는 가변적인 인프라.
- 프로비저닝 : 인프라 환경 설정. infra as code.
- Immutable Infra : 배포된 후 변경되지 않는 인프라 패러다임. os패치, 어플패치 등으로 인해 환경이 변질되는걸 막음. 수정불가. 문제가 생기면 컨테이너를 없앰. 생성과 삭제만 존재.
- 빌드 파이프 라인 : 소스 저장소 -> 빌드 -> 패키징 -> 구성 -> 테스트 -> 배포 -> dev, staging, production
- 개발 프로세스
  - 워터폴
    - 프로젝트 중심.
    - 필요한 기술의 인력들이 한시적으로 모여 장기간의 프로젝트를 통해 개발함.
    - 계획. 산출물. 일정 정해져 있음.
    - 계획 준수. 순서 : 시작 -> 완료 -> 유지보수.
  - 프로덕트 중심의 개발 프로세스
    - 약 2~3주의 이터레이션 또는 스프린트를 통한 소프트웨어 개발 후 피드백을 받음.
    - 반복 모델 제품 중심의 애자일 개발 방식.
    - 순서 : 시작 -> 타당성 검토 -> 내부 테스트 제품 출시 -> 알파제품 출시 -> 베타제품 출시 -> 첫 제품 출시 -> 업그레이드 -> 본 제품 출시.
    - 조금씩 개발해 시장의 반응을보고 개발함.
    - 점진적 계획(계획을 장대하게 세우지 말고 실행 가능한 최소한의 실행만).
    - 계획은 정해져있지만 범위를 조절함(기능 범위). 품질은 잘 나와야함.
- 개발문화
   - devOps 개발문화
     - 신뢰와 협업의 개발 문화. 개발에서 운영까지의 신속한 가치 흐름 생성(가시화 - 피드백, 작업 간격축소).
     - 지속적인 피드백 제공, 빠른 문제 감지 및 복구(자동화테스트, 피어 리뷰, 피드백을 통한 개선).
     - 생산적인 신뢰/협업 문화 생성(실험/위험 감수, 조직학습, 비난하지 않는 포스트 모텀, 내부 기술 컨퍼런스, 끊임없는 학습)
- 어플리케이션 설계 방식
  - 데이터 중복, 결과적 일관성
  - 예전엔 스토리지가 비싸서 저장소를 효율적으로 썻어야 했음(정규화). 요즘은 그렇지 않음.
  - Polyglot Persistence 접근 방법 사용
  - SOA는 저장소를 나누지 않았음.
  - 서비스별 데이터베이스 설계
    - 각 저장소 분산 필수
    - 다른 서비스 저장소 호출 불가능
    - API만 통하여 접근 가능
  - 언제든 실패할 수 있으며, 실패해서 더 이상 진행할 수 없을때도 자연스럽게 대응할 수 있도록 설계.
    - 다양한 실패대비,  자동으로 테스트할 수 있는 환경 마련
    - 실패감지 및 대응을 위한 실시간 모니터링 체계필요
    - 서킷브레이크 패턴 : 서비스 모니터링 중 서비스 다운 또는 실패시 호출하는 서비스의 연계 차단, 적절한 대응을 위해 만듬.
- 단순히 인프라와 애플리케이션 아키텍처만 변경하는 것이 아님
- 프로세스, 조직, 역량(설계 방식), 개발 문화 등이 변화되어야 함.
- 점진 반복적인 개발프로세스, 유연하고 자동화된 개발환경, 자율적인 업무 기능 팀과 개발 문화 
  
